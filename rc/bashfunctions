
# Run udevadm info on a device file
# e.g. `udevinfo /dev/ttyACM0`
udevinfo()
{
  udevadm info -a -p  $(udevadm info -q path -n ${1})
}

# Restart the udev subsystem
udevrestart()
{
  sudo udevadm control --reload-rules
  sudo udevadm trigger --action=change
}

j() {
    if ! which ccze > /dev/null; then
        sudo journalctl -f -u $@
    else
        sudo journalctl -f -u $@ | ccze -A
    fi
}

_j() {
    local cur prev opts base
    COMPREPLY=()
    cur="${COMP_WORDS[COMP_CWORD]}"
    local services=$(systemctl list-units | grep active | cut -f1 -d ' ' | grep "service$")
    COMPREPLY=( $(compgen -W "${services} ${opts}" -- ${cur}) )
    return 0;
}
complete -F _j j

# vim:syntax=sh
